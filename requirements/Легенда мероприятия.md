
# Легенда мероприятия

В стране Көкдала  живет 20 миллионов человек, они все очень любят ходить в кино, на концерты, стендапы, мюзиклы и тои. Ходят все, от мала до велика, агашки, татешки, апашки и аташки, карапузы, сестренки и братишки. В месяц в  Көкдале  проходит 5000 событий. Чтобы узнать, когда будет следующее событие, все обязательно ходят на Сервис Билеттер. Там все желающие смотрят афишу, выбирают предстоящие события, читают описание, видят рекламу, размещенную на другие события. Рекламу размещает администрация. Также, на сайте вы можете купить билеты на все-все события.

И вот, в нашу сказочную Көкдалу прилетает мировая музыкальная звезда Селеста Морейра из большой соседней страны Лусария. Ее выступление будет проходить на центральном стадионе, который вмещает в себя 100 тысяч зрителей. Сервису Билеттер организаторы выдали следующий набор билетов на продажу
- 10 000 мест в Золотом круге - 40 000 тг
- 15 000 мест в Фан–зоне - 80 000 тг
- 20 000 мест в нижнем ярусе - 120 000 тг
- 25 000 мест в среднем ярусе - 160 000 тг
- 30 000 мест в верхнем ярусе - 200 000 тг

Всего 100 000 мест на продажу. Организаторы концерта выбрали сервис Билеттер, как основной для дистрибуции всех билетов на концерт. Продажи в кассах также организованы, через сервис Билеттер, но с отличным интерфейсом от публичного сайта.

Сервис Билеттер универсален для разных партнеров. Возможны следующие сценарии работы:
- Полностью администрирование и мест, и продажу билетов на эти места на мероприятие (как с концертом Селесты Морейры)
- Выступает одним из партнеров площадки, например Кинотеатра. Кинотеатр сам управляет резервирование и фиксирует продажи мест, а Партнер (сервис Билеттер) каждый раз обращается к Партнеру для проверки доступности мест.
- Администрирует выделенные места. Например, Провайдер может выдать порцию билетов (30-40% от всей массы), для продажи и резервации в отдельно взятой зоне (например, в Фан-зоне только), за пределы этих границ Биллетер не имеет права выходить.

По всем событиям, в сервисе должна быть реализована онлайн-аналитика по количеству проданных билетов, в разрезе зоны (если доступны).

Ожидаемая нагрузка на сервис – 80% билетов будут проданы в течение первых 4 часов после открытия продаж.

Сервис Билеттер работает на рынке уже 10 лет, и за это время продал билеты на 6 миллионов событий. Сейчас в их архиве хранится информация о 6 миллиардах проданных билетов.

Оплата билетов происходит через платежный интегратор ТөлеуБар. Платежный интегратор предоставляет интерфейс на оплату как описанное в формате OpenAPI HTTP-API для удобства генерации на любых языках программирования.

## Задача для команд

- Необходимо реализовать систему бронирования и дистрибуции билетов на события, учитывая разные сценарии работы сервиса.
- Главное задачей стоит реализация 100 тысяч билетов на концерт Селесты Морейра, обеспечив 100% доступность для клиентов.
- Пользователи, кто не желает идти на концерт Селесты Морейра, должны иметь возможность использовать сервис без ограничений для приобретения билетов на любые другие доступные события на платформе.
- Обеспечить работу сценария покупки билета и отчета по событию, учитывая возможные исключения (поломки), в работе сценария.
- Реализовать ограничения на платформе, чтобы исключить ситуация фрода и остановки продаж.

## Типичный сценарий покупки билета
- Пользователь выбирает интересное ему событие на платформе
- Выбираем место, в зависимости от зоны зала (стоимость / услуги / обзор). Система должна демонстрировать свободные и занятые места во всем зале или выбранной зоне.
- Бронирует выбранное место/места.
- Производит оплату выбранных билетов.
- Подтверждает успешную покупку или отмену работы сценария.
- Имеет возможность отменить покупку на любом шаге процесса.
- Имеет возможность вернуть выбранный билет или билеты после успешной покупки, но максимум за 12 часов до планируемого события.